!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).GlitchEffect=t()}(this,(function(){"use strict";return class{constructor(e,t,n={}){this.container=e,this.imageUrl=t,this.intensity=n.intensity||1,this.noiseEnabled=!1!==n.noise,this.injectStyles(),this.prepareContainer(),this.createStructure(),this.initEffects()}injectStyles(){if(document.getElementById("glitch-styles"))return;const e=document.createElement("style");e.id="glitch-styles",e.textContent="\n        .ge-container {\n          position: relative;\n          overflow: hidden;\n        }\n        .ge-img {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          display: block;\n          position: absolute;\n          top: 0;\n          left: 0;\n          transition: transform 0.1s ease;\n        }\n        .ge-overlay {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          mix-blend-mode: screen;\n          pointer-events: none;\n          opacity: 0.6;\n        }\n        .ge-noise {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: repeating-linear-gradient(\n            to bottom,\n            rgba(255, 255, 255, 0.1) 0px,\n            rgba(255, 255, 255, 0.1) 2px,\n            transparent 2px,\n            transparent 4px\n          );\n          mix-blend-mode: difference;\n          opacity: 0;\n          pointer-events: none;\n        }\n      ",document.head.appendChild(e)}prepareContainer(){this.container.classList.add("ge-container")}createStructure(){this.container.innerHTML="";const e=document.createElement("img");e.src=this.imageUrl,e.className="ge-img",e.id="base";const t=e.cloneNode();t.id="r",t.classList.add("ge-overlay");const n=e.cloneNode();n.id="g",n.classList.add("ge-overlay");const i=e.cloneNode();if(i.id="b",i.classList.add("ge-overlay"),this.container.appendChild(e),this.container.appendChild(t),this.container.appendChild(n),this.container.appendChild(i),this.noiseEnabled){const e=document.createElement("div");e.className="ge-noise",e.id="noise",this.container.appendChild(e)}}initEffects(){const e=this.container.querySelector("#r"),t=this.container.querySelector("#g"),n=this.container.querySelector("#b"),i=this.container.querySelector("#noise"),s=()=>{const i=()=>(10*Math.random()-5)*this.intensity,o=150*Math.random()+50;e.style.transform=`translate(${i()}px, ${i()}px)`,t.style.transform=`translate(${i()}px, ${i()}px)`,n.style.transform=`translate(${i()}px, ${i()}px)`,setTimeout((()=>{e.style.transform="translate(0, 0)",t.style.transform="translate(0, 0)",n.style.transform="translate(0, 0)"}),o),setTimeout(s,800*Math.random()+200)};if(s(),i){const e=()=>{i.style.opacity="0.4",i.style.transform=`translate(${10*Math.random()-5}px, ${10*Math.random()-5}px)`,setTimeout((()=>{i.style.opacity="0"}),200*Math.random()+100),setTimeout(e,2e3*Math.random()+500)};e()}}}}));
